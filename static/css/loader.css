#loader {
    position: fixed;
    z-index: 9999;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

.gear-spinner {
    width: 55px;
    height: 55px;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    to { transform: rotate(180deg); }
}

#loader.hidden {
    opacity: 0;
    visibility: hidden;
}
body.dark-theme #loader {
    background: #121212;
}
body.dark-theme .gear-spinner {
filter: invert(1);
}


/* Тёмная тема */
body.dark-theme {
  background-color: #121212;
  color: #e0e0e0;
  transition: background-color 0.4s ease, color 0.4s ease;
}

/* Контейнер */
body.dark-theme .container {
  background-color: transparent;
}

/* Навигация (хлебные крошки) */
body.dark-theme .breadcrumb {
  background-color: #1f1f1f;
  border-radius: 6px;
  padding: 8px 12px;
  margin-bottom: 20px;
}

body.dark-theme .breadcrumb-item a {
  color: #64b5f6;
}

body.dark-theme .breadcrumb-item.active {
  color: #e0e0e0;
  font-weight: 600;
}

/* Форма фильтров */
body.dark-theme form .form-control,
body.dark-theme form .form-select,
body.dark-theme form .btn {
  background-color: #1f1f1f;
  color: #eee;
  border: 1px solid #444;
  border-radius: 4px;
  transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease;
}

body.dark-theme form .form-control::placeholder {
  color: #999;
}

body.dark-theme form .form-control:focus,
body.dark-theme form .form-select:focus {
  background-color: #292929;
  border-color: #64b5f6;
  color: #fff;
  outline: none;
  box-shadow: 0 0 5px #64b5f6;
}

/* Кнопки */
body.dark-theme .btn-mb-primary,
body.dark-theme .btn-outline-primary {
  color: #64b5f6;
  border-color: #64b5f6;
  background-color: transparent;
  transition: background-color 0.3s ease, color 0.3s ease;
}

body.dark-theme .btn-mb-primary:hover,
body.dark-theme .btn-mb-primary:focus,
body.dark-theme .btn-outline-primary:hover,
body.dark-theme .btn-outline-primary:focus {
  background-color: #64b5f6;
  color: #121212;
  border-color: #64b5f6;
}

body.dark-theme .btn-outline-secondary {
  color: #999;
  border-color: #666;
  background-color: transparent;
  transition: background-color 0.3s ease, color 0.3s ease;
}

body.dark-theme .btn-outline-secondary:hover,
body.dark-theme .btn-outline-secondary:focus {
  background-color: #555;
  color: #fff;
  border-color: #64b5f6;
}

/* Карточки */
body.dark-theme .card {
  background-color: #1f1f1f;
  border: 1px solid #333;
  color: #ddd;
  transition: background-color 0.3s ease, color 0.3s ease;
  box-shadow: 0 1px 5px rgba(0,0,0,0.5);
}

body.dark-theme .card:hover {
  background-color: #292929;
  color: #fff;
}

/* Полоса сверху карточки по роли */
body.dark-theme .card .position-absolute.top-0.start-0.w-100 {
  background: none !important;
}

body.dark-theme .card .position-absolute.top-0.start-0.w-100[style*="background: var(--bs-primary)"] {
  background: #0d6efd !important;
}

body.dark-theme .card .position-absolute.top-0.start-0.w-100[style*="background: #ffc107"] {
  background: #ffc107 !important;
}

body.dark-theme .card .position-absolute.top-0.start-0.w-100[style*="background: #6c757d"] {
  background: #6c757d !important;
}

/* Карточка — footer */
body.dark-theme .card-footer {
  background-color: transparent;
  border-top: 1px solid #333;
}

/* Текст и мелкие элементы */
body.dark-theme .text-muted,
body.dark-theme .small,
body.dark-theme .fw-semibold {
  color: #bbb !important;
}

/* Информационные алерты */
body.dark-theme .alert-info {
  background-color: #2c3e50;
  color: #a0c4ff;
  border-color: #3a5068;
  box-shadow: none;
}

/* Ссылки */
body.dark-theme a {
  color: #64b5f6;
  text-decoration: none;
}

body.dark-theme a:hover,
body.dark-theme a:focus {
  color: #90caf9;
  text-decoration: underline;
}

/* Иконки ролей */
body.dark-theme .text-primary {
  color: #64b5f6 !important;
}

body.dark-theme .text-warning {
  color: #ffc107 !important;
}

body.dark-theme .text-secondary {
  color: #6c757d !important;
}
/* Кнопки в тёмной теме с подходящими цветами и !important */

body.dark-theme .btn-mb-primary {
  background-color: #2563eb !important; /* более мягкий синий */
  color: #e0e7ff !important; /* светло-серый для контраста */
  border: 1px solid #2563eb !important;
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

body.dark-theme .btn-mb-primary:hover,
body.dark-theme .btn-mb-primary:focus {
  background-color: #1e40af !important; /* темнее синий при наведении */
  border-color: #1e40af !important;
  color: #f3f4f6 !important;
}

body.dark-theme .btn-danger {
  background-color: #dc2626 !important; /* насыщенный красный */
  color: #fef2f2 !important; /* светлый для читаемости */
  border: 1px solid #dc2626 !important;
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

body.dark-theme .btn-danger:hover,
body.dark-theme .btn-danger:focus {
  background-color: #991b1b !important; /* темнее красный */
  border-color: #991b1b !important;
  color: #fee2e2 !important;
}

body.dark-theme .btn-warning {
  background-color: #d97706 !important; /* тёплый золотистый */
  color: #fafaf9 !important; /* почти белый */
  border: 1px solid #d97706 !important;
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

body.dark-theme .btn-warning:hover,
body.dark-theme .btn-warning:focus {
  background-color: #b45309 !important; /* темнее золотистый */
  border-color: #b45309 !important;
  color: #fefce8 !important;
}
body.dark-theme .btn-success {
  background-color: #16a34a !important; /* насыщенный зелёный */
  color: #d1fae5 !important; /* светло-зелёный для контраста */
  border: 1px solid #16a34a !important;
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

body.dark-theme .btn-success:hover,
body.dark-theme .btn-success:focus {
  background-color: #15803d !important; /* темнее зелёный */
  border-color: #15803d !important;
  color: #dcfce7 !important;
}
body.dark-theme .btn-outline-dark {
  color: #e0e0e0 !important; /* светлый цвет текста */
  border-color: #666666 !important; /* светло-серый бордер */
  background-color: transparent !important;
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

body.dark-theme .btn-outline-dark:hover,
body.dark-theme .btn-outline-dark:focus {
  color: #ffffff !important; /* белый текст при наведении */
  background-color: #444444 !important; /* тёмно-серый фон при наведении */
  border-color: #444444 !important;
}
